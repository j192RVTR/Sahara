<div class="container">
    <div class="py-5 text-center">
      <h2>Checkout</h2>
    </div>
  
    <div class="row">

        <div class="col-md-4 order-md-2 mb-4">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
              <span class="text-muted">Your cart</span>
              <span class="badge badge-secondary badge-pill">{{num_items()}}</span>
            </h4>
            <ul class="list-group mb-3">
                <li class="list-group-item d-flex justify-content-between lh-condensed" *ngFor="let product of products;">
                    <div>
                        <h6 class="my-0">{{product.product.title}}</h6>
                        <small class="text-muted">{{product.product.creator}}</small>
                      </div>
                      <span class="text-muted">{{product.product.price | currency}}<span [class.d-none]="product.quantity==1">*{{product.quantity}}</span></span>
                </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Total (USD)</span>
                <strong>{{sum() | currency}}</strong>
              </li>
            </ul>
          </div>
      <div class="col-md-8 order-md-1 py-5 border">
        <h4 class="mb-3">Billing address</h4>
        <form class="needs-validation" (submit)="checkout()">
          <div class="mb-3">
            <label for="name">Name</label>
            <div class="input-group">
              <input type="text" class="form-control" id="name" name="name" placeholder="Name" required [(ngModel)]="checkoutModel.name">
              <div class="invalid-feedback" style="width: 100%;">
                Your name is required.
              </div>
            </div>
          </div>
  
          <div class="mb-3">
            <label for="username">Email</label>
            <div class="input-group">
              <!-- <div class="input-group-prepend">
                <span class="input-group-text">@</span>
              </div> -->
              <input type="text" class="form-control" id="email" name="email" placeholder="Email" required [(ngModel)]="checkoutModel.email">
              <div class="invalid-feedback" style="width: 100%;">
                Your email is required.
              </div>
            </div>
          </div>
  
          <div class="mb-3">
            <label for="address">Address</label>
            <input type="text" class="form-control" id="address" name="address" placeholder="1234 Main St" required [(ngModel)]="checkoutModel.address">
            <div class="invalid-feedback">
              Please enter your shipping address.
            </div>
          </div>
  
          <div class="mb-3">
            <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label>
            <input type="text" class="form-control" id="address2" name="address2" placeholder="Apartment or suite" [(ngModel)]="checkoutModel.address2">
          </div>
  
          <div class="row">
            <div class="col-md-5 mb-3">
              <label for="country">Country</label>
              <select class="custom-select d-block w-100" id="country" name="country" required [(ngModel)]="checkoutModel.country">
                <option value="" hidden> Choose...</option>
                <option>United States</option>
              </select>
              <div class="invalid-feedback">
                Please select a valid country.
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <label for="state">State</label>
              <select class="custom-select d-block w-100" id="state" name="state" required [(ngModel)]="checkoutModel.state">
                <option value="" hidden>Choose...</option>
                <option>Alabama</option>
                <option>Alaska</option>
                <option>Arizona</option>
                <option>Arkansas</option>
                <option>California</option>
                <option>Colorado</option>
                <option>Connecticut</option>
                <option>Delaware</option>
                <option>Florida</option>
                <option>Georgia</option>
                <option>Hawaii</option>
                <option>Idaho</option>
                <option>Illinois</option>
                <option>Indiana</option>
                <option>Iowa</option>
                <option>Kansas</option>
                <option>Kentucky</option>
                <option>Louisiana</option>
                <option>Maine</option>
                <option>Maryland</option>
                <option>Massachusetts</option>
                <option>Michigan</option>
                <option>Minnesota</option>
                <option>Mississippi</option>
                <option>Missouri</option>
                <option>Montana</option>
                <option>Nebraska</option>
                <option>Nevada</option>
                <option>New Hampshire</option>
                <option>New Jersey</option>
                <option>New Mexico</option>
                <option>New York</option>
                <option>North Dakota</option>
                <option>Ohio</option>
                <option>Oklahoma</option>
                <option>Oregon</option>
                <option>Pennsylvania</option>
                <option>Rhode Island</option>
                <option>South Carolina</option>
                <option>South Dakota</option>
                <option>Tennessee</option>
                <option>Texas</option>
                <option>Utah</option>
                <option>Vermont</option>
                <option>Virginia</option>
                <option>Washington</option>
                <option>West Virginia</option>
                <option>Wisconsin</option>
                <option>Wyoming</option>
              </select>
              <div class="invalid-feedback">
                Please provide a valid state.
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <label for="zip">Zip</label>
              <input type="text" class="form-control" id="zip" name="zip" placeholder="" required [(ngModel)]="checkoutModel.zip">
              <div class="invalid-feedback">
                Zip code required.
              </div>
            </div>
          </div>
          <hr class="mb-4">
  
          <h4 class="mb-3">Payment</h4>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="cc-name">Name on card</label>
              <input type="text" class="form-control" id="cardName" name="cardName" placeholder="" required [(ngModel)]="checkoutModel.cardName">
              <small class="text-muted">Full name as displayed on card</small>
              <div class="invalid-feedback">
                Name on card is required
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="cc-number">Credit card number</label>
              <input type="text" class="form-control" id="cardNumber" name="cardNumber" placeholder="" required [(ngModel)]="checkoutModel.cardNumber">
              <div class="invalid-feedback">
                Credit card number is required
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3 mb-3">
              <label for="cc-expiration">Expiration</label>
              <input type="text" class="form-control" id="expirationDate" name="expirationDate" placeholder="" required [(ngModel)]="checkoutModel.expirationDate">
              <div class="invalid-feedback">
                Expiration date required
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <label for="cc-cvv">CVV</label>
              <input type="text" class="form-control" id="securityCode" name="securityCode" placeholder="" required [(ngModel)]="checkoutModel.securityCode">
              <div class="invalid-feedback">
                Security code required
              </div>
            </div>
          </div>
          <hr class="mb-4">
          <button class="btn btn-warning btn-lg btn-block" type="submit">Complete Checkout</button>
        </form>
      </div>
    </div>
    <div class="alert alert-success" role="alert">
        A simple success alert—check it out!
      </div>
  
    <!-- <footer class="my-5 pt-5 text-muted text-center text-small">
      <p class="mb-1">© 2017-2020 Company Name</p>
      <ul class="list-inline">
        <li class="list-inline-item"><a href="https://getbootstrap.com/docs/4.5/examples/checkout/#">Privacy</a></li>
        <li class="list-inline-item"><a href="https://getbootstrap.com/docs/4.5/examples/checkout/#">Terms</a></li>
        <li class="list-inline-item"><a href="https://getbootstrap.com/docs/4.5/examples/checkout/#">Support</a></li>
      </ul>
    </footer> -->
  </div>